From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jake Potrebic <jake.m.potrebic@gmail.com>
Date: Fri, 13 Aug 2021 15:00:06 -0700
Subject: [PATCH] Clear bucket NBT after dispense


diff --git a/src/main/java/net/minecraft/core/dispenser/DispenseItemBehavior.java b/src/main/java/net/minecraft/core/dispenser/DispenseItemBehavior.java
index 429b9729188fe340b62a3305e6436fabbb1a7caf..1023f91b6a23fc974ba709ec09834d9faae8003a 100644
--- a/src/main/java/net/minecraft/core/dispenser/DispenseItemBehavior.java
+++ b/src/main/java/net/minecraft/core/dispenser/DispenseItemBehavior.java
@@ -651,8 +651,7 @@ public interface DispenseItemBehavior {
                     Item item = Items.BUCKET;
                     stack.shrink(1);
                     if (stack.isEmpty()) {
-                        stack.setItem(Items.BUCKET);
-                        stack.setCount(1);
+                        stack = new ItemStack(item); // Paper - clear tag
                     } else if (((DispenserBlockEntity) pointer.getEntity()).addItem(new ItemStack(item)) < 0) {
                         this.defaultDispenseItemBehavior.dispense(pointer, new ItemStack(item));
                     }
